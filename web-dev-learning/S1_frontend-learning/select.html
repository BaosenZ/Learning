<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Projects</title>
    <link rel="icon" type="image/x-icon" href="./static/img/favicon.jpg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">


</head>

<body>
    <!-- Dropdown menu for select labels -->
    <div class="dropdown d-flex justify-content-end mb-2 shadow-lg">
        <a class="btn btn-secondary dropdown-toggle px-6 m-2" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            Select Labels
        </a>
        <ul class="dropdown-menu">

            <li class="list-group-item ">
                <input class="form-check-input ms-1" type="checkbox" value="" id="firstCheckbox">
                <label class="form-check-label" for="firstCheckbox">{{ one_label }}</label>
            </li>

        </ul>
    </div>


    <div class="project-item">
        <h2>Project Alpha</h2>
        <ul>
            <li>Labels:
                <span class="badge text-bg-secondary">label1</span>
                <span class="badge text-bg-secondary">label2</span>
                <span class="badge text-bg-secondary">archive</span>
            </li>
        </ul>
        <p>Content of Project Alpha...</p>
    </div>

    <div class="project-item">
        <h2>Project Beta</h2>
        <ul>
            <li>Labels:
                <span class="badge text-bg-secondary">label2</span>
                <span class="badge text-bg-secondary">archive</span>
            </li>
        </ul>
        <p>Content of Project Beta...</p>
    </div>

    <div class="project-item">
        <h2>Project Gamma</h2>
        <ul>
            <li>Labels:
                <span class="badge text-bg-secondary">label1</span>
                <span class="badge text-bg-secondary">archive</span>
            </li>
        </ul>
        <p>Content of Project Gamma...</p>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Get all checkboxes and the project container
            const checkboxes = document.querySelectorAll('.form-check-input');
            const projects = document.querySelectorAll('.project-item');

            // Function to update the displayed projects
            function updateProjectsDisplay() {
                const selectedLabels = Array.from(checkboxes)
                    .filter(checkbox => checkbox.checked)
                    .map(checkbox => checkbox.nextElementSibling.textContent.trim());

                // If no labels are selected, hide all projects
                if (selectedLabels.length === 0) {
                    projects.forEach(project => project.style.display = 'none');
                    return;
                }

                // Otherwise, filter projects based on any selected labels
                projects.forEach(project => {
                    const projectLabels = Array.from(project.querySelectorAll('.badge'))
                        .map(span => span.textContent.trim());

                    // Check if the project contains at least one of the selected labels
                    const shouldDisplay = selectedLabels.some(label => projectLabels.includes(label));
                    project.style.display = shouldDisplay ? 'block' : 'none';
                });
            }

            // Select all checkboxes by default
            checkboxes.forEach(checkbox => checkbox.checked = true);
            updateProjectsDisplay();

            // Add event listeners to each checkbox
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateProjectsDisplay);
            });
        });


    </script>

</body>

</html>